# ============================================================================
# Frontend Environment Variables
# ============================================================================
# IMPORTANT: Never commit .env.local with real secrets to version control!
# Copy this file to .env.local and fill in your actual values.
# ============================================================================

# ----------------------------------------------------------------------------
# Backend API Configuration
# ----------------------------------------------------------------------------
# The URL where your FastAPI backend is running
# Development: http://localhost:8000
# Production: https://your-backend-domain.com
NEXT_PUBLIC_API_URL=http://localhost:8000

# ----------------------------------------------------------------------------
# Better Auth Configuration
# ----------------------------------------------------------------------------
# Better Auth handles user authentication with JWT tokens in httpOnly cookies

# Secret key for signing sessions (minimum 32 characters)
# Generate with: openssl rand -base64 32
# CRITICAL: Keep this secret! Never expose in client-side code.
BETTER_AUTH_SECRET=your-secret-key-minimum-32-characters-long

# The URL where this Next.js app is hosted
# Development: http://localhost:3000
# Production: https://your-frontend-domain.com
BETTER_AUTH_URL=http://localhost:3000

# Public Better Auth URL (accessible from browser)
# Usually the same as BETTER_AUTH_URL
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# Neon PostgreSQL connection string (shared with backend)
# Better Auth uses this to store user accounts, sessions, and tokens
#
# Format: postgresql://[user]:[password]@[host]/[database]?sslmode=require
# Example: postgresql://myuser:mypass@ep-example.us-east-2.aws.neon.tech/neondb?sslmode=require
#
# Get your Neon connection string from: https://console.neon.tech
# IMPORTANT: Must use SSL (sslmode=require)
DATABASE_URL=postgresql://user:password@ep-example.us-east-2.aws.neon.tech/neondb?sslmode=require

# ----------------------------------------------------------------------------
# JWT Configuration
# ----------------------------------------------------------------------------
# JWT secret for token validation (MUST match backend JWT_SECRET_KEY exactly)
# This ensures tokens issued by the backend can be verified by the frontend
# Generate with: openssl rand -hex 32
# CRITICAL: Must be identical to backend's JWT_SECRET_KEY
JWT_SECRET_KEY=your-secret-key-here-replace-with-random-hex-32

# ----------------------------------------------------------------------------
# Email Service Configuration (Resend)
# ----------------------------------------------------------------------------
# Resend is used to send transactional emails (verification, password reset)
# Sign up for free at: https://resend.com/signup
# Free tier: 100 emails/day, 3,000 emails/month

# Resend API Key (get from https://resend.com/api-keys)
# OPTIONAL: If not set, emails will be logged to console instead
RESEND_API_KEY=re_your_api_key_here

# Email "From" address (must be verified in Resend)
# Development: Use resend's test domain (onboarding@resend.dev)
# Production: Use your own domain (noreply@yourdomain.com)
RESEND_FROM_EMAIL=onboarding@resend.dev

# ============================================================================
# Setup Instructions
# ============================================================================
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. Generate secrets:
#    BETTER_AUTH_SECRET: openssl rand -base64 32
#    JWT_SECRET_KEY: openssl rand -hex 32
#
# 3. Get Neon PostgreSQL connection string:
#    - Visit https://console.neon.tech
#    - Create a new project or use existing
#    - Copy connection string from dashboard
#    - Ensure sslmode=require is appended
#
# 4. Set up Resend email service (OPTIONAL):
#    - Sign up at https://resend.com/signup (free tier: 100 emails/day)
#    - Get API key from https://resend.com/api-keys
#    - Add to .env.local: RESEND_API_KEY=re_your_api_key_here
#    - For production: Verify your domain in Resend dashboard
#    - Update RESEND_FROM_EMAIL to your domain email
#    - Enable email verification: Set requireEmailVerification: true in lib/auth/auth.ts
#    NOTE: Without Resend, emails will be logged to console (development only)
#
# 5. Update URLs for production:
#    - Set NEXT_PUBLIC_API_URL to your deployed backend
#    - Set BETTER_AUTH_URL to your Vercel domain
#    - Ensure backend CORS allows your frontend domain
#
# 6. Run database migrations:
#    npx @better-auth/cli migrate --config lib/auth/auth.ts
#
# ============================================================================
